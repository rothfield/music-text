{"success":true,"document":{"author":null,"char_index":0,"directives":{},"documentUUID":"84867dba-5308-4eaa-945d-9e076e448a0f","elements":[{"Stave":{"char_index":0,"column":1,"id":"929fecbe-1686-4a98-bc35-80b247557da7","index_in_doc":0,"index_in_line":0,"line":1,"lines":[{"ContentLine":{"char_index":0,"consumed_elements":[],"elements":[{"Beat":{"char_index":0,"consumed_elements":[],"divisions":4,"elements":[{"Note":{"char_index":0,"consumed_elements":[],"denominator":16,"id":"ad8f8310-988a-42bf-aeb0-d56082b0ab3b","notation_system":"Number","numerator":1,"octave":0,"pitch_code":"N4","value":"4"}},{"Note":{"char_index":1,"consumed_elements":[],"denominator":16,"id":"59347431-66dd-4f19-9053-1c19bfe6ec3e","notation_system":"Number","numerator":1,"octave":0,"pitch_code":"N3","value":"3"}},{"Note":{"char_index":2,"consumed_elements":[],"denominator":16,"id":"9c66e5a0-7470-4740-97e4-ce2d156fc817","notation_system":"Number","numerator":1,"octave":0,"pitch_code":"N2","value":"2"}},{"Note":{"char_index":3,"consumed_elements":[],"denominator":16,"id":"80f52070-b4d7-4646-b8b5-f8a2aa8b5621","notation_system":"Number","numerator":1,"octave":0,"pitch_code":"N1","value":"1"}}],"id":"7ee9db1c-bf82-4783-bf01-67d0fa306cc5","is_tuplet":false,"tied_to_previous":false,"total_duration":{"Rational":["Plus",[1,4]]},"tuplet_ratio":null,"value":null}}],"id":"1acf93e9-1acf-45c5-8846-9d5aa87984e2","value":"4321"}}],"notation_system":"Number","value":""}}],"id":"9d8f948c-e879-4e2d-bafc-b918f7ac1502","timestamp":"2025-09-28T21:25:46.836891101+00:00","title":null,"ui_state":{"active_tab":"vexflow","clipboard_content":null,"selection":{"cursor_position":0,"selected_uuids":[]},"viewport":{"scroll_x":0.0,"scroll_y":0.0,"zoom_level":1.0}},"value":""},"updated_elements":[],"message":"Applied insert_text to 0 elements","svg":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg xmlns=\"http://www.w3.org/2000/svg\"\n     width=\"800\" height=\"340\"\n     viewBox=\"0 0 800 340\">\n\n  <style>\n    <![CDATA[\n    @font-face {\n      font-family: 'Bravura';\n      src: url('/fonts/Bravura.woff2') format('woff2'),\n           url('/fonts/Bravura.woff') format('woff');\n      font-weight: normal;\n      font-style: normal;\n    }\n\n    .canvas-content {\n      font-family: monospace, 'Courier New', monospace;\n    }\n\n    .canvas-note {\n      font-size: 20px;\n      fill: deepskyblue;\n      font-weight: normal;\n      font-family: monospace, 'Courier New', monospace;\n    }\n\n    .char {\n      font-size: 20px;\n      fill: deepskyblue;\n      font-weight: normal;\n      font-family: monospace, 'Courier New', monospace;\n      cursor: text;\n    }\n\n    .char.cursor {\n      fill: white;\n      stroke: black;\n      stroke-width: 2px;\n      opacity: 0.9;\n    }\n\n    /* Semantic element styles */\n    .note-char {\n      font-size: 20px;\n      fill: #1e90ff;\n      font-weight: normal;\n      font-family: monospace, 'Courier New', monospace;\n      cursor: text;\n    }\n\n    .rest-char {\n      font-size: 20px;\n      fill: #808080;\n      font-style: italic;\n      font-family: monospace, 'Courier New', monospace;\n      cursor: text;\n    }\n\n    .barline-char {\n      font-size: 20px;\n      fill: #8b008b;\n      font-weight: bold;\n      font-family: monospace, 'Courier New', monospace;\n      cursor: text;\n    }\n\n    .dash-char {\n      font-size: 20px;\n      fill: #4682b4;\n      font-family: monospace, 'Courier New', monospace;\n      cursor: text;\n    }\n\n    .breath-char {\n      font-size: 20px;\n      fill: #ff6347;\n      font-family: monospace, 'Courier New', monospace;\n      cursor: text;\n    }\n\n    .lyrics-char {\n      font-size: 18px;\n      fill: #666666;\n      font-style: italic;\n      font-family: monospace, 'Courier New', monospace;\n      cursor: text;\n    }\n\n    .text-char {\n      font-size: 20px;\n      fill: #333333;\n      font-family: monospace, 'Courier New', monospace;\n      cursor: text;\n    }\n\n    .unknown-char {\n      font-size: 18px;\n      fill: #999999;\n      font-style: italic;\n      font-family: monospace, 'Courier New', monospace;\n      cursor: text;\n    }\n\n\n    .octave-dot {\n      fill: #ff0000;\n    }\n\n    .canvas-octave-upper {\n      font-size: 12px;\n      fill: red;\n      font-weight: normal;\n      font-family: monospace, 'Courier New', monospace;\n    }\n\n    .canvas-octave-lower {\n      font-size: 12px;\n      fill: red;\n      font-weight: normal;\n      font-family: monospace, 'Courier New', monospace;\n    }\n\n    .canvas-barline {\n      font-size: 20px;\n      fill: mediumorchid;\n      font-weight: bold;\n      font-family: monospace, 'Courier New', monospace;\n    }\n\n    /* Cursor CSS removed - handled by client-side JavaScript */\n\n    .canvas-beat-arc {\n      stroke: orange;\n      stroke-width: 2;\n      fill: none;\n      opacity: 0.8;\n    }\n\n    .canvas-selection {\n      fill: rgba(65, 105, 225, 0.4);\n      stroke: none;\n    }\n\n    .line-hitbox.highlighted {\n        fill: rgba(0, 0, 0, 0.1);\n    }\n\n    .canvas-placeholder {\n      font-size: 18px;\n      fill: gray;\n      font-style: italic;\n      font-weight: normal;\n      font-family: monospace, 'Courier New', monospace;\n    }\n\n    .canvas-unknown {\n      font-size: 16px;\n      fill: gray;\n      font-weight: normal;\n      font-style: italic;\n      font-family: monospace, 'Courier New', monospace;\n    }\n\n    .canvas-title {\n      font-size: 30px;\n      fill: black;\n      font-weight: bold;\n      font-family: monospace, 'Courier New', monospace;\n    }\n\n    .canvas-lyrics {\n      font-size: 18px;\n      fill: #666;\n      font-style: italic;\n      font-family: monospace, 'Courier New', monospace;\n    }\n\n    .canvas-text {\n      font-size: 20px;\n      fill: #333;\n      font-weight: normal;\n      font-family: monospace, 'Courier New', monospace;\n    }\n\n    @keyframes blink {\n      0%, 50% { opacity: 1; }\n      51%, 100% { opacity: 0; }\n    }\n\n    /* Character replacement styles removed - handled in rendering logic */\n    ]]>\n  </style>\n  <rect width=\"800\" height=\"340\" fill=\"#fafafa\" stroke=\"#dddddd\" stroke-width=\"1\"/>\n  <g class=\"canvas-content\" transform=\"translate(20, 20)\">\n<g class=\"content-line\">\n    <rect class=\"line-hitbox\" x=\"-20\" y=\"-20\" width=\"800\" height=\"60\" fill=\"transparent\" />\n    <g class=\"beat\" data-beat-id=\"7ee9db1c-bf82-4783-bf01-67d0fa306cc5\" data-char-start=\"0\">\n      <g class=\"note\" data-note-id=\"ad8f8310-988a-42bf-aeb0-d56082b0ab3b\" data-octave=\"0\">\n        <text x=\"0.0\" y=\"20.0\" class=\"note-char\" data-char-index=\"0\" data-width=\"12.9\">4</text>\n      </g>\n      <g class=\"note\" data-note-id=\"59347431-66dd-4f19-9053-1c19bfe6ec3e\" data-octave=\"0\">\n        <text x=\"12.9\" y=\"20.0\" class=\"note-char\" data-char-index=\"1\" data-width=\"12.4\">3</text>\n      </g>\n      <g class=\"note\" data-note-id=\"9c66e5a0-7470-4740-97e4-ce2d156fc817\" data-octave=\"0\">\n        <text x=\"25.3\" y=\"20.0\" class=\"note-char\" data-char-index=\"2\" data-width=\"12.2\">2</text>\n      </g>\n      <g class=\"note\" data-note-id=\"80f52070-b4d7-4646-b8b5-f8a2aa8b5621\" data-octave=\"0\">\n        <text x=\"37.5\" y=\"20.0\" class=\"note-char\" data-char-index=\"3\" data-width=\"8.1\">1</text>\n      </g>\n    </g>\n</g>\n  </g>\n  <metadata id=\"coordinate-data\">\n    <![CDATA[\n    {\n      \"elements\": [\n      ],\n      \"characterPositions\": {\n        \"0\": {\"x\": 0.0, \"y\": 20.0},\n        \"1\": {\"x\": 12.9, \"y\": 20.0},\n        \"2\": {\"x\": 25.3, \"y\": 20.0},\n        \"3\": {\"x\": 37.5, \"y\": 20.0},\n        \"4\": {\"x\": 45.6, \"y\": 20.0}\n      }\n    }\n    ]]>\n  </metadata>\n</svg>\n","formats":{"vexflow_svg":"(function() {\n  const container = document.getElementById('vexflow_svg-output');\n  if (!container) return;\n  container.innerHTML = '';\n\n  const { Renderer, Stave, StaveNote, Voice, Formatter, Tuplet, Beam } = Vex.Flow;\n\n  const renderer = new Renderer(container, Renderer.Backends.SVG);\n  const canvasWidth = 800;\n  const canvasHeight = 200;\n  renderer.resize(canvasWidth, canvasHeight);\n  const context = renderer.getContext();\n  context.scale(0.9, 0.9);\n\n  const stave = new Stave(10, 40, 700);\n  stave.addClef('treble');\n  stave.setContext(context);\n  stave.draw();\n\n  const note_0 = new StaveNote({ keys: ['F/4'], duration: '16' });\n  const note_1 = new StaveNote({ keys: ['E/4'], duration: '16' });\n  const note_2 = new StaveNote({ keys: ['D/4'], duration: '16' });\n  const note_3 = new StaveNote({ keys: ['C/4'], duration: '16' });\n  // Create voice and add notes\n  const voice_0 = new Voice({ num_beats: 4, beat_value: 4, resolution: Vex.Flow.RESOLUTION });\n  voice_0.setStrict(false);\n  voice_0.addTickables([note_0, note_1, note_2, note_3]);\n\n  // Format and draw\n  const formatter = new Formatter().joinVoices([voice_0]);\n  formatter.format([voice_0], 600);\n  voice_0.draw(context, stave);\n\n  // Draw beams\n    const beam_4 = new Beam([note_0, note_1, note_2, note_3]);\n    beam_4.setContext(context).draw();\n})();\n","editor_svg":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg xmlns=\"http://www.w3.org/2000/svg\"\n     width=\"800\" height=\"340\"\n     viewBox=\"0 0 800 340\">\n\n  <style>\n    <![CDATA[\n    @font-face {\n      font-family: 'Bravura';\n      src: url('/fonts/Bravura.woff2') format('woff2'),\n           url('/fonts/Bravura.woff') format('woff');\n      font-weight: normal;\n      font-style: normal;\n    }\n\n    .canvas-content {\n      font-family: monospace, 'Courier New', monospace;\n    }\n\n    .canvas-note {\n      font-size: 20px;\n      fill: deepskyblue;\n      font-weight: normal;\n      font-family: monospace, 'Courier New', monospace;\n    }\n\n    .char {\n      font-size: 20px;\n      fill: deepskyblue;\n      font-weight: normal;\n      font-family: monospace, 'Courier New', monospace;\n      cursor: text;\n    }\n\n    .char.cursor {\n      fill: white;\n      stroke: black;\n      stroke-width: 2px;\n      opacity: 0.9;\n    }\n\n    /* Semantic element styles */\n    .note-char {\n      font-size: 20px;\n      fill: #1e90ff;\n      font-weight: normal;\n      font-family: monospace, 'Courier New', monospace;\n      cursor: text;\n    }\n\n    .rest-char {\n      font-size: 20px;\n      fill: #808080;\n      font-style: italic;\n      font-family: monospace, 'Courier New', monospace;\n      cursor: text;\n    }\n\n    .barline-char {\n      font-size: 20px;\n      fill: #8b008b;\n      font-weight: bold;\n      font-family: monospace, 'Courier New', monospace;\n      cursor: text;\n    }\n\n    .dash-char {\n      font-size: 20px;\n      fill: #4682b4;\n      font-family: monospace, 'Courier New', monospace;\n      cursor: text;\n    }\n\n    .breath-char {\n      font-size: 20px;\n      fill: #ff6347;\n      font-family: monospace, 'Courier New', monospace;\n      cursor: text;\n    }\n\n    .lyrics-char {\n      font-size: 18px;\n      fill: #666666;\n      font-style: italic;\n      font-family: monospace, 'Courier New', monospace;\n      cursor: text;\n    }\n\n    .text-char {\n      font-size: 20px;\n      fill: #333333;\n      font-family: monospace, 'Courier New', monospace;\n      cursor: text;\n    }\n\n    .unknown-char {\n      font-size: 18px;\n      fill: #999999;\n      font-style: italic;\n      font-family: monospace, 'Courier New', monospace;\n      cursor: text;\n    }\n\n\n    .octave-dot {\n      fill: #ff0000;\n    }\n\n    .canvas-octave-upper {\n      font-size: 12px;\n      fill: red;\n      font-weight: normal;\n      font-family: monospace, 'Courier New', monospace;\n    }\n\n    .canvas-octave-lower {\n      font-size: 12px;\n      fill: red;\n      font-weight: normal;\n      font-family: monospace, 'Courier New', monospace;\n    }\n\n    .canvas-barline {\n      font-size: 20px;\n      fill: mediumorchid;\n      font-weight: bold;\n      font-family: monospace, 'Courier New', monospace;\n    }\n\n    /* Cursor CSS removed - handled by client-side JavaScript */\n\n    .canvas-beat-arc {\n      stroke: orange;\n      stroke-width: 2;\n      fill: none;\n      opacity: 0.8;\n    }\n\n    .canvas-selection {\n      fill: rgba(65, 105, 225, 0.4);\n      stroke: none;\n    }\n\n    .line-hitbox.highlighted {\n        fill: rgba(0, 0, 0, 0.1);\n    }\n\n    .canvas-placeholder {\n      font-size: 18px;\n      fill: gray;\n      font-style: italic;\n      font-weight: normal;\n      font-family: monospace, 'Courier New', monospace;\n    }\n\n    .canvas-unknown {\n      font-size: 16px;\n      fill: gray;\n      font-weight: normal;\n      font-style: italic;\n      font-family: monospace, 'Courier New', monospace;\n    }\n\n    .canvas-title {\n      font-size: 30px;\n      fill: black;\n      font-weight: bold;\n      font-family: monospace, 'Courier New', monospace;\n    }\n\n    .canvas-lyrics {\n      font-size: 18px;\n      fill: #666;\n      font-style: italic;\n      font-family: monospace, 'Courier New', monospace;\n    }\n\n    .canvas-text {\n      font-size: 20px;\n      fill: #333;\n      font-weight: normal;\n      font-family: monospace, 'Courier New', monospace;\n    }\n\n    @keyframes blink {\n      0%, 50% { opacity: 1; }\n      51%, 100% { opacity: 0; }\n    }\n\n    /* Character replacement styles removed - handled in rendering logic */\n    ]]>\n  </style>\n  <rect width=\"800\" height=\"340\" fill=\"#fafafa\" stroke=\"#dddddd\" stroke-width=\"1\"/>\n  <g class=\"canvas-content\" transform=\"translate(20, 20)\">\n<g class=\"content-line\">\n    <rect class=\"line-hitbox\" x=\"-20\" y=\"-20\" width=\"800\" height=\"60\" fill=\"transparent\" />\n    <g class=\"beat\" data-beat-id=\"7ee9db1c-bf82-4783-bf01-67d0fa306cc5\" data-char-start=\"0\">\n      <g class=\"note\" data-note-id=\"ad8f8310-988a-42bf-aeb0-d56082b0ab3b\" data-octave=\"0\">\n        <text x=\"0.0\" y=\"20.0\" class=\"note-char\" data-char-index=\"0\" data-width=\"12.9\">4</text>\n      </g>\n      <g class=\"note\" data-note-id=\"59347431-66dd-4f19-9053-1c19bfe6ec3e\" data-octave=\"0\">\n        <text x=\"12.9\" y=\"20.0\" class=\"note-char\" data-char-index=\"1\" data-width=\"12.4\">3</text>\n      </g>\n      <g class=\"note\" data-note-id=\"9c66e5a0-7470-4740-97e4-ce2d156fc817\" data-octave=\"0\">\n        <text x=\"25.3\" y=\"20.0\" class=\"note-char\" data-char-index=\"2\" data-width=\"12.2\">2</text>\n      </g>\n      <g class=\"note\" data-note-id=\"80f52070-b4d7-4646-b8b5-f8a2aa8b5621\" data-octave=\"0\">\n        <text x=\"37.5\" y=\"20.0\" class=\"note-char\" data-char-index=\"3\" data-width=\"8.1\">1</text>\n      </g>\n    </g>\n</g>\n  </g>\n  <metadata id=\"coordinate-data\">\n    <![CDATA[\n    {\n      \"elements\": [\n      ],\n      \"characterPositions\": {\n        \"0\": {\"x\": 0.0, \"y\": 20.0},\n        \"1\": {\"x\": 12.9, \"y\": 20.0},\n        \"2\": {\"x\": 25.3, \"y\": 20.0},\n        \"3\": {\"x\": 37.5, \"y\": 20.0},\n        \"4\": {\"x\": 45.6, \"y\": 20.0}\n      }\n    }\n    ]]>\n  </metadata>\n</svg>\n","lilypond_svg":null,"lilypond_src":"\\version \"2.24.0\"\n\\score {\n  <<\n    \\new Staff { \\fixed c' { f16 e16 d16 c16 } }\n  >>\n}","midi":null}}