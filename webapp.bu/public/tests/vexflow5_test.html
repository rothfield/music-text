<!DOCTYPE html>
<html>
<head>
    <title>VexFlow 5 Test</title>
    <script src="https://cdn.jsdelivr.net/npm/vexflow@5.0.1/build/vexflow.min.js"></script>
</head>
<body>
    <h1>VexFlow 5 Test</h1>
    <div id="output"></div>
    
    <script>
        // Test if VexFlow 5 loaded
        if (typeof VF !== 'undefined') {
            document.getElementById('output').innerHTML = `
                <p style="color: green;">✅ VexFlow 5 loaded successfully!</p>
                <p>Version Info: ${JSON.stringify(VF.BUILD || 'No version info')}</p>
                <div id="notation"></div>
            `;
            
            // Try to render a simple note
            try {
                const { Renderer, Stave, StaveNote, Voice, Formatter } = VF;
                
                const div = document.getElementById('notation');
                const renderer = new Renderer(div, Renderer.Backends.SVG);
                renderer.resize(500, 200);
                const context = renderer.getContext();
                
                const stave = new Stave(10, 40, 400);
                stave.addClef('treble');
                stave.setContext(context).draw();
                
                const notes = [
                    new StaveNote({ clef: 'treble', keys: ['c/4'], duration: 'q' }),
                    new StaveNote({ clef: 'treble', keys: ['d/4'], duration: 'q' }),
                    new StaveNote({ clef: 'treble', keys: ['e/4'], duration: 'q' }),
                    new StaveNote({ clef: 'treble', keys: ['f/4'], duration: 'q' })
                ];
                
                const voice = new Voice({ num_beats: 4, beat_value: 4 });
                voice.addTickables(notes);
                
                new Formatter().joinVoices([voice]).format([voice], 350);
                voice.draw(context, stave);
                
                document.getElementById('output').innerHTML += '<p style="color: green;">✅ VexFlow 5 rendering works!</p>';
            } catch (e) {
                document.getElementById('output').innerHTML += `<p style="color: red;">❌ VexFlow 5 rendering error: ${e.message}</p>`;
            }
        } else {
            document.getElementById('output').innerHTML = '<p style="color: red;">❌ VexFlow 5 not loaded!</p>';
        }
    </script>
</body>
</html>